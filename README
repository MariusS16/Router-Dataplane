In aceasta tema am implementat 3 functionalitati: procesul de dirijare, Longest Prefix Match si protocolul ICMP.
Pentru inceput, in functia main am folosit un switch pentru a verifica tipul de mac destination. Am folosit functia get_type_mac pentru a verifica daca mac-ul este de tip broadcast sau unicast. In functie de aceastea am apelat functiile corespunzatoare.
In functia forward_packet am implementat procesul de dirijare. Am verificat checksum-ul cu functia check_sum si am verificat ttl-ul cu ajutorul functiei check_ttl (in care daca ttl-ul era mai mic sau egal cu 1 returnam 0). Daca returnam 0 am trimis un mesaj de tip ICMP. In continuare, LMP-ul a fost implementat cu ajutorul functiei lmp_binary (daca returnam -1 transmiteam un ICMP er). Am folosit cautarea binara pentru a gasi cea mai lunga corespondenta, dar inaite am sortat tabela de rutare cu un qsort si cu functia de comparare compare. In continuare, m-am folosit de functia check_arp_table pentru a verifica daca am mac-ul destinatie in tabela arp, am decrementat ttl-ul si am recalculat checksum-ul. In final am trimis pachetul.